// 左側に目次を作る
:toc: left
// 見出しのナンバリング
:sectnums:
// 画像ファイル置き場の指定
:imagesdir: assets/images

= 電卓アプリ

== 概要

テスターの研修用に予めいくつかのバグを仕込んだ電卓のアプリを開発する。

=== 目的

会社ごとに異なる Bug Tracking System の扱い方や、業務のフローを覚えてもらうためのツール。 +
実装の変更をすることなく、設定ファイルの内容を変更することによって、仕組まれているバグが修正できる。

当該ツールによって以下の効果を期待する。

* 業務フローを覚える
* Bug Tracking System の扱い方を覚える
* テストケースを考える力を養う

=== 当該文書について

当該文書は研修対象のテスターに向けて記載したものである。 +
エラーの内容や修正方法の記載はしていない。

== アプリの概要

=== モジュール構成

本アプリは以下のモジュールによって構成されている。

.モジュールリスト
[options="header"]
|=================================
|モジュール名|内容

|Calc.exe
|実行モジュール

|Calc.exe.config
|ランタイムの情報などが記載されたツール

|Livet.dll +
Livet.xml +
Microsoft.Expression.Interactions.dll +
System.Windows.Interactivity.dll
|モジュールで利用しているライブラリとその設定など

|System.dat
|システムデータ
|=================================

[CAUTION]
====
上表のモジュールは、どこに置いても実行可能であるが、上記ファイル全てが同階層にあることを前提としている。
====

=== サポートOS

本アプリは以下の OS で動作することを想定している。

* Windows10 Pro/Home x64, x86 バージョン1607以降

上記以外の OS でもランタイムがインストールされている環境では動作するが、動作保証外とする。

=== ランタイム

本アプリを実行するには、以下のランタイムが必要。

* .NET Framework 4.5.2

=== 解像度

以下 Windows 10 のシステム要件に従い、最低限の解像度は 800×600 とする。

https://www.microsoft.com/ja-jp/windows/windows-10-specifications[ハードウェアに最低限必要な条件]

image::LowestResolution.png[]

=== アプリで使用するアイコン

本アプリのアイコンは次の通り

image::Calc.png[]

システムメニューやタスクバーなど、通常アイコンが表示される箇所全てに適用される。

=== プロパティ情報

ファイルのプロパティ情報でアプリケーションが意識して対応しているのは以下の項目。

|===
^.^|**項目名** ^.^|**値** 
>.^|**ファイルの説明** .^|電卓 
>.^|**ファイルバージョン** .^|1.0.0.0 
>.^|**製品名** .^|電卓 
>.^|**製品バージョン** .^|1.0.0.0 
>.^|**著作権** .^|Copyright © 2018 OKKY 
|===

== 画面仕様

本アプリを起動すると以下の画面がスクリーン中央に表示される。

image::Main.png[]

本アプリでは以下のコントロールで構成されている。

* 表示部
* 数字ボタン
* 四則演算記号ボタン
* イコールボタン
* クリアボタン

ここでは、各コントロールの概要について説明する。

=== 表示部

image::Display.png[]

* アプリケーション起動時は、「0」が入力された状態となっている
* 表示されている内容をコピーすることはできるが、本コントロールに対してのペーストの実行はできない
* 表示できる桁は記号も含めて 9 桁まで。10 桁以上はエラー表示となる（詳細は<<_桁オーバー,後述>>）

=== 数字ボタン

image::Numbers.png[]

* 数字ボタンをクリックすると、クリックしたボタンの数字が表示部に表示される
* 既に表示されている数字の右側に、クリックしたボタンの数字が表示される
** 当該ボタンをクリックする毎に桁上がりしていくイメージ
** 表示部が「0」の場合は、「0」の表示は消えてクリックした数字ボタンの数字のみが表示される。（「01」のような表示にはならない）

=== 四則演算記号ボタン

image::Operations.png[]

* 各ボタンに対応した四則演算記号が表示部に表示される
** 1 回の計算で 2 回目に当該ボタンをクリックしたときは計算を実行し、演算記号はクリックしたボタンの演算記号が表示される
*** 「1 + 2『 + 』」と入力したとき「3 +」という表示になる
* 四則演算記号ボタンのいずれかをクリックした後、異なる四則演算記号ボタンをクリックすると、表示部に表示されている四則演算記号は更新される
** 表示部に「1+」と表示されているとき、「-」をクリックすると「1-」という表示になる

=== イコールボタン

image::Equal.png[]

* 表示部に表示されている内容で計算を実行する
* 計算結果表示時、続けて当該ボタンをクリックすると、計算結果に対して計算することができる（1 + 2「=」で「3」が表示されているときに「=」をクリックすると、「3」に対して「+2」の計算を実行する）

=== クリアボタン

image::Clear.png[]

* 全ての計算、結果、状態を解除し、アプリケーション起動時と同じ状態に戻す

== タイトルバー

以下の部分が「タイトルバー」に該当する

image::TitleBar.png[]

タイトルバーには以下の情報・コントロールが表示される。

* アイコン
* タイトル
* 最小化ボタン
* 最大化ボタン
* ×ボタン

ここでは、各情報・コントロールについて説明する。

=== アイコン

「<<_アプリで使用するアイコン,アプリで使用するアイコン>>」で述べている画像が表示される。
当該アイコンをクリックすると以下のようなメニューが表示される。

image::SystemMenu.png[]

本メニューは Windows の基本的な動作部分であり、本アプリでは特に何か変更しているわけでもないので、各項目の説明は省略する。

=== タイトル

「Calculator」と表示される。

=== 最小化ボタン

クリック可。アプリを最小化する。

=== 最大化ボタン

クリック不可。本アプリはサイズ固定とする。

=== ×ボタン

クリック可。アプリケーションを終了する。

== 機能仕様

基本的には Windows10 の「Calculator.exe」アプリに動作を合わせている。 +
特筆するような事項のみここでは記載する。

=== 計算の優先順位

本アプリでは 3 つ以上の数値を扱えない。 +
そのため、以下のような計算は、おおよそ期待通りには動作しない。 +
1 + 2 x 3 = +
この計算式の一般的な結果は「7」となるが、本アプリでは「9」となる。 +
（1 + 2 で「3」という結果になり、そこに x 3 をするため「9」となる）

=== 小数の扱い

本アプリでは小数を扱わない。計算結果が小数になる場合は、切り捨てる。

== エラー表示について

表示部にエラーが表示されることがある。

エラー表示中は、四則演算記号ボタン/イコールボタンは Disable 状態になる。 +
クリアボタン/数字ボタンのいずれかをクリックすると、すべてのボタンが Enable 状態になる。

=== 桁オーバー

表示部に表示される文字数が 10 文字を超えたときに表示される。

image::ErrorDigit.png[]

=== ゼロ除算

数値に対して 0 で割り算をしようとしたときに表示される。

image::ErrorDiv0.png[]

== 国際化対応

本ツールは日本語のみ対応する。 +
国際化対応は実施しない。

== ログ

本ツールではログを出力しない。